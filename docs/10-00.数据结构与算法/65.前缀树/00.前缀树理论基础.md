---
permalink: /pages/trie
title: 前缀树理论基础
date: 2022-04-27 10:45:00
---

前缀树，又称为字典树，它用一个树状的数据结构存储一个字典中的所有单词。

如果一个字典中包含单词 "can"、"cat"、"come"、"do"、"i"、"in" 和 "inn"，那么保存该字典所有单词的前缀树如图所示。

<img src="https://cs-wiki.oss-cn-shanghai.aliyuncs.com/img/20220427105313.png" style="zoom:67%;" />

可以看出：

- 前缀树是一棵**多叉树**，一个节点可能有多个子节点。
- 前缀树中除根节点外，每个节点表示字符串中的一个字符，而字符串由前缀树的路径表示。
- 前缀树的根节点不表示任何字符。

需要注意的是，**字符串在前缀树中的路径并不一定终止于叶节点**。

如果一个单词是另一个单词的前缀，那么较短的单词对应的路径是较长的单词对应的路径的一部分。例如，上图中字符串 "in" 对应的路径是字符串 "inn" 对应的路径的一部分。

所以，如果前缀树路径到达某个节点时它表示了一个完整的字符串，那么**字符串最后一个字符对应的节点应该有特殊的标识**。

例如，图中字符串最后一个字符对应的节点都用灰色背景标识：

- 从根节点出发到达表示字符 'i' 的节点，由于该节点被标识为字符串的最后一个字符，因此此时路径表示的字符串 "i" 是字典中的一个单词
- 接着往下到达表示字符 'n' 的节点，这个节点也被标识为字符串的最后一个字符，因此此时路径表示的字符串 "in" 是字典中的一个单词
- 接着往下到达另一个表示字符 'n' 的节点，该节点也有同样的标识，因此此时路径表示的字符串 "inn" 是字典中的另一个单词。